<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <title>Cadastro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <style>
        .corbtn {
            background-color: #00FF7F !important;
            border-color: #00FF7F !important;
        }

        /* Remove the navbar's default rounded borders and increase the bottom margin */
        .navbar {
            margin-bottom: 50px;
            border-radius: 0;
        }

        /* Remove the jumbotron's default bottom margin */
        .jumbotron {
            margin-bottom: 0;
        }

        /* Add a gray background color and some padding to the footer */
        footer {
            background-color: #f2f2f2;
            padding: 25px;
        }

        .pula {
            margin-bottom: 30px;
        }
    </style>
</head>

<body>
    <script>
        function registerDone() {
            let name = $('#name').val();
            let surname = $('#surname').val();
            let cpf = $('#cpf').val();
            let email = $('#email').val();
            let address1 = $('#address1').val();
            let address2 = $('#address2').val();
            let country = $('#country option:selected').text();
            let state = $('#state option:selected').text();
            let cep = $('#cep').val();
            let password = $('#password').val();

            // REQUISIÇÃO PARA O BACKEND
            $.ajax({
                type: "POST",
                url: "https://esportes-backend.herokuapp.com/cadastro",
                data: {
                    "nome": name,
                    "sobreNome": surname,
                    "cpf": cpf,
                    "email": email,
                    "endereco1": address1,
                    "endereco2": address2,
                    "pais": country,
                    "estado": state,
                    "cep": cep,
                    "senha": password
                },
                dataType: "json",
                success: function (success) {
                    alert('Cadastro realizado com sucesso!');
                    window.location.href = 'home-login.html';
                },
                error: function (errMsg) {
                    alert('Ocorreu um erro, por favor tente mais tarde!');
                }
            });


        }
    </script>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li style="margin-left: -30px;"><a href="home.html">Home</a></li>
                    <li><a href="lista-produto-calcados.html">Calçados</a></li>
                    <li><a href="lista-produto-roupas.html">Roupas</a></li>
                    <li><a href="lista-produto-equipamentos.html">Equipamentos</a></li>
                    <li><a href="lista-produto-masculino.html">Masculino</a></li>
                    <li><a href="lista-produto-feminino.html">Feminino</a></li>
                    <li><a href="lista-produto-infantil.html">Infantil</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li id="create" class="active"><a href="cadastro.html"><span
                                class="glyphicon glyphicon-plus"></span> Criar
                            conta</a></li>
                    <li id="login"><a href="home-login.html"><span class="glyphicon glyphicon-user"></span> Login</a>
                    </li>
                    <li id="config"></li>
                    <li><a href="carrinho.html"><span class="glyphicon glyphicon-shopping-cart"></span> Carrinho</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" style="margin-top: 8px; margin-right: 14%;">
                    <form class="form-inline">
                        <input style="width: 300px;" class="form-control mr-sm-2" type="text" placeholder="Produto">
                        <button class="btn btn-success" type="submit">Buscar</button>
                    </form>
                </ul>

            </div>
        </div>
    </nav>

    <div class="container">
        <!--
            <div class=" text-center">
                <img class="d-block mx-auto mb-4" src="Assets/Logo.png" alt="" width="72" height="72">
                <h2>Cadastre-se</h2>
                <p class="lead">Preencha os dados abaixo para se cadastrar no sistema</p>
            </div>
        -->

        <div class="row">
            <div class="col-md-2">

            </div>
            <div class="col-md-8">
                <h4 style="margin-bottom: 40px;" class="mb-3">Necessário preencher as informações para realização do
                    cadastro.</h4>
                <div class="row pula">
                    <div class="col-md-6 mb-3">
                        <label for="primeiroNome">Nome</label>
                        <input id="name" name="name" type="text" class="form-control" id="primeiroNome" placeholder=""
                            value="" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="sobrenome">Sobrenome</label>
                        <input id="surname" name="surname" type="text" class="form-control" id="sobrenome"
                            placeholder="" value="" required>
                    </div>
                </div>

                <div class="row pula">
                    <div class="col-md-6 mb-3">
                        <label for="cpf">CPF</label>
                        <input id="cpf" name="username" type="text" class="form-control" id="cpf"
                            placeholder="123.456.789-12" required>
                    </div>
                </div>

                <div class="mb-3 pula">
                    <label for="email">Email</label>
                    <input id="email" name="email" type="email" class="form-control" id="email"
                        placeholder="seuemail@exemplo.com" required>
                </div>

                <div class="mb-3 pula">
                    <label for="endereco">Endereço</label>
                    <input id="address1" name="address_1" type="text" class="form-control" id="endereco"
                        placeholder="Rua da Lama, nº 11" required>
                </div>

                <div class="mb-3 pula">
                    <label for="endereco2">Endereço 2 <span class="text-muted">(Opcional)</span></label>
                    <input id="address2" name="address_2" type="text" class="form-control" id="endereco2"
                        placeholder="Apartamento ou casa">
                </div>

                <div class="row pula">
                    <div class="col-md-6 mb-3">
                        <label for="pais">País</label>
                        <select id="country" name="country" class="custom-select d-block w-100"
                            style="padding: 6px; width: 200px;" id="pais" required>
                            <option value="">Escolha...</option>
                            <option value="BR">Brasil</option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="estado">Estado</label>
                        <select id="state" class="custom-select d-block w-100" id="estado"
                            style="padding: 6px; width: 200px;" required>
                            <option value="">Escolha...</option>
                            <option>Espírito Santo</option>
                            <option>Minas Gerais</option>
                            <option>Rio de Janeiro</option>
                            <option>São Paulo</option>
                        </select>
                    </div>
                </div>

                <div class="row pula">
                    <div class="col-md-6 mb-3">
                        <label for="cep">CEP</label>
                        <input id="cep" name="CEP" type="text" class="form-control" id="cep" placeholder="31963-821"
                            required>
                    </div>
                </div>

                <div class="mb-3 pula">
                    <label for="passwordInput">Senha</label>
                    <input id="password" name="password" type="password" class="form-control" id="passwordInput"
                        placeholder="" , required>
                </div>
                <button class="corbtn btn btn-primary btn-lg btn-block" onclick="registerDone()">Finalizar
                    Cadastro</button>
            </div>
        </div>

    </div>

</body>

</html>
